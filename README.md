# Конфигурация Neovim

Современная и высокопроизводительная конфигурация Neovim, оптимизированная для разработки с упором на удобство использования, производительность и эстетику.

Репозиторий: [scorp14/nvim](https://github.com/scorp14/nvim.git)

## Обзор

Эта конфигурация Neovim построена с использованием [Lazy.nvim](https://github.com/folke/lazy.nvim) в качестве менеджера плагинов и включает тщательно подобранный набор плагинов для улучшенного опыта программирования. Конфигурация включает в себя:

- **Красивый и современный интерфейс**: Тема Catppuccin с настраиваемой строкой состояния и вкладками буферов
- **Интеллектуальное автодополнение кода**: blink.cmp - современный движок автодополнения с интеграцией LSP
- **Улучшенная подсветка синтаксиса**: Tree-sitter для точной и быстрой подсветки синтаксиса
- **Удобная навигация**: Проводник nvim-tree и нечеткий поиск Telescope
- **Автоматическое форматирование**: Conform.nvim для форматирования кода при сохранении
- **Встроенные LSP серверы**: Поддержка Python (Basedpyright), Lua (lua-language-server), Ruff и другие
- **Инструменты продуктивности**: Which-key, Todo-comments, Snacks.nvim и другие

## Особенности

### Языковая поддержка
- **Python**: Полнофункциональная поддержка с Basedpyright LSP сервером, включая аннотации типов, автодополнение и диагностику
- **Lua**: Поддержка LSP для разработки под Neovim с lua-language-server
- **Другие языки**: Подсветка синтаксиса для bash, css, csv, diff, gitignore, html, http, ini, jinja, json, jsonc, lua, luadoc, luap, markdown, markdown_inline, nginx, python, query, regex, sql, tmux, toml, vim, vimdoc, xml, yaml и многих других

### Основные компоненты
- **blink.cmp**: Современный движок автодополнения с поддержкой LSP, сниппетов и документации
- **Conform.nvim**: Быстрое форматирование кода с поддержкой различных форматтеров
- **Tree-sitter**: Точная подсветка синтаксиса и структурный парсинг кода
- **Noice.nvim**: Улучшенный интерфейс уведомлений и командной строки
- **Snacks.nvim**: Инструменты продуктивности включая уведомления, дашборд и другие улучшения

### Эргономика и удобство
- **Горячие клавиши**: Интуитивно понятные и логически организованные сочетания клавиш
- **Множественные курсоры**: Поддержка множественных курсоров для эффективного редактирования
- **Предварительный просмотр**: Инструменты для навигации и визуализации кода (precognition)
- **Интеграция с Git**: Встроенная поддержка Git через Telescope и другие плагины

## Установка

1. **Предварительные требования**:
   - Neovim 0.8+
   - Git
   - Python 3 (для языковых серверов Python)
   - Node.js (для некоторых языковых серверов)

2. **Клонирование конфигурации**:
   ```bash
   # Сделайте резервную копию текущей конфигурации nvim
   mv ~/.config/nvim ~/.config/nvim.backup
   
   # Клонируйте эту конфигурацию
   git clone https://github.com/scorp14/nvim.git ~/.config/nvim
   ```

3. **Установка языковых серверов**:
   ```bash
   # Установка языковых серверов
   pip install basedpyright lua-language-server ruff
   ```

4. **Запуск Neovim**:
   ```bash
   nvim
   ```
   При первом запуске Neovim Lazy.nvim автоматически установит все плагины.

## Горячие клавиши

### Навигация и работа с файлами
- `<Leader>e`: Переключить проводник файлов (nvim-tree)
- `<Leader>ff`: Поиск файлов (Telescope)
- `<Leader>fg`: Поиск по содержимому (Telescope)
- `<Leader>fb`: Поиск буферов (Telescope)
- `<Leader>fh`: Поиск по справочным тегам
- `<Leader>fk`: Поиск по горячим клавишам
- `<Tab>` / `<S-Tab>`: Переключение между вкладками буферов

### Работа с Git
- `<Leader>gb`: Список веток Git
- `<Leader>gc`: Список коммитов Git
- `<Leader>gs`: Статус Git

### Работа с LSP
- `<Leader>lg`: Перейти к определению
- `<Leader>ly`: Реализации
- `<Leader>ll`: Ссылки
- `<Leader>lr`: Переименование
- `<F4>`: Действия с кодом
- `<F3>`: Форматирование
- `<Leader>lfd`: Диагностика ошибок
- `<Leader>lds`: Документ-символы

### Редактирование
- `jk`: Выход из режима вставки
- `<C-s>`: Сохранить файл
- `<S-Down>` / `<S-Up>`: Перемещение строк в визуальном режиме
- `<Tab>` / `<S-Tab>`: Увеличение/уменьшение отступа в визуальном режиме
- `<C-Down>` / `<C-Up>`: Добавить курсор вниз/вверх (multiple-cursors)
- `<Leader>y`: Копировать в системный буфер в визуальном режиме
- `<Leader>p`: Вставить из системного буфера

### Python
- `<Leader>rp`: Запустить Python файл в терминале

### Задачи и заметки
- `<Leader>c`: Список TODO (Telescope)

## Плагины

### Интерфейс и темы
- **catppuccin/nvim**: Красивая тема с поддержкой многих плагинов (Macchiato по умолчанию)
- **nvim-lualine/lualine.nvim**: Строка состояния с настраиваемыми темами
- **akinsho/bufferline.nvim**: Линия буферов с интерфейсом вкладок
- **nvim-tree/nvim-tree.lua**: Дерево проводника файлов

### Редактирование и автодополнение
- **saghen/blink.cmp**: Современный движок автодополнения с поддержкой LSP
- **windwp/nvim-autopairs**: Автоматическое завершение скобок и кавычек
- **brenton-leighton/multiple-cursors.nvim**: Поддержка множественных курсоров
- **rafamadriz/friendly-snippets**: Коллекция сниппетов

### Поиск и навигация
- **nvim-telescope/telescope.nvim**: Высоко расширяемый нечеткий поиск
- **nvim-treesitter/nvim-treesitter**: Подсветка синтаксиса и структурный парсинг

### Форматирование и LSP
- **stevearc/conform.nvim**: Легковесный плагин форматирования
- **Basedpyright**: Современный и быстрый LSP для Python
- **lua-language-server**: LSP сервер для Lua
- **ruff**: Быстрый Python linter и formatter

### Инструменты продуктивности
- **folke/noice.nvim**: Улучшенный интерфейс уведомлений и командной строки
- **folke/snacks.nvim**: Вспомогательные функции и улучшения
- **folke/todo-comments.nvim**: Подсветка и поиск комментариев todo
- **tris203/precognition.nvim**: Предварительный просмотр навигации
- **folke/which-key.nvim**: Обнаружение горячих клавиш

## Конфигурация

### Структура файлов

Конфигурация организована в модульные файлы Lua:

```
lua/
├── config/           # Основные настройки Neovim
│   ├── options.lua   # Основные опции и настройки
│   ├── keymaps.lua   # Горячие клавиши
│   ├── lsp.lua       # Конфигурация LSP
│   └── autocmds.lua  # Автоматические команды
└── plugins/          # Конфигурации плагинов
    ├── blink-cmp.lua    # Движок автодополнения
    ├── bufferline.lua   # Вкладки буферов
    ├── color.lua        # Настройки цвета
    ├── conform.lua      # Форматирование
    ├── lualine.lua      # Строка состояния
    ├── multiline.lua    # Множественные курсоры
    ├── noice.lua        # Интерфейс уведомлений
    ├── nvim-autopairs.lua # Автозавершение скобок
    ├── nvim-tree.lua    # Проводник файлов
    ├── precognition.lua # Предварительный просмотр
    ├── snacks.lua       # Утилиты продуктивности
    ├── telescope.lua    # Нечеткий поиск
    ├── todo-comments.lua # Комментарии TODO
    ├── treesitter.lua   # Подсветка синтаксиса
    └── whichkey.lua     # Отображение горячих клавиш
lsp/
├── basedpyright.lua     # Конфигурация Python LSP
├── lua-language-server.lua # Конфигурация Lua LSP
└── ruff.lua            # Конфигурация Ruff
```

### Особенности настройки

#### Tree-sitter
Конфигурация включает поддержку большого количества языков с автоматической установкой недостающих парсеров.

#### LSP
- **Basedpyright**: Полная поддержка Python с улучшенной типизацией и анализом кода
- **Lua Language Server**: Для разработки под Neovim
- Интеграция с blink.cmp для идеального автодополнения

#### Форматирование
Conform.nvim настроен для автоматического форматирования Python с помощью ruff и Lua с помощью lua-language-server при сохранении файлов.

## Настройка под себя

1. **Изменить тему**: Отредактируйте `lua/plugins/color.lua`, чтобы переключить тему (доступны latte, frappe, macchiato, mocha)

2. **Добавить языки**: Добавьте новые языки в список `ensure_installed` в `lua/plugins/treesitter.lua`

3. **Изменить горячие клавиши**: Отредактируйте `lua/config/keymaps.lua`, чтобы настроить клавиши под себя

4. **Добавить плагины**: Создайте новый `.lua` файл в `lua/plugins/`, следуя существующему шаблону

## Устранение неполадок

### Распространенные проблемы

1. **Плагины не загружаются**: Выполните `:Lazy sync` для принудительной синхронизации плагинов

2. **LSP не работает**: Проверьте `:checkhealth lsp` и убедитесь, что все зависимости установлены

3. **Форматирование не работает**: Убедитесь, что соответствующие форматтеры установлены (ruff для Python, lua-language-server для Lua)

4. **Подсветка синтаксиса не работает**: Выполните `:TSInstall` с именем языка

### Отладка

- `:checkhealth` - Проверить здоровье Neovim и плагинов
- `:Lazy` - Открыть интерфейс менеджера плагинов
- `:TSInstallInfo` - Проверить статус парсеров Tree-sitter
- `:LspInfo` - Проверить статус LSP серверов
- `:messages` - Просмотреть последние сообщения

## Обновления

Конфигурация использует Lazy.nvim с автоматическими обновлениями. Чтобы обновить все плагины:

```vim
:Lazy update
```

## Репозиторий

Последнюю версию конфигурации можно найти по адресу: [scorp14/nvim](https://github.com/scorp14/nvim.git)

## Лицензия

Эта конфигурация предоставляется как есть без какой-либо конкретной лицензии. Вы можете свободно использовать и изменять её в соответствии со своими потребностями.
